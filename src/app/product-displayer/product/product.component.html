<div class="card h-100 shadow-sm position-relative hover-shadow transition"
     style="cursor: pointer"
     (click)="handleCardClick($event)">

  <div class="position-relative">
    <img [src]="product.imageUrl"
         class="card-img-top img-fluid"
         style="height: 250px; object-fit: cover; border-radius: 0.25rem 0.25rem 0 0;">
  </div>

  <div class="card-body d-flex flex-column p-4">
    <div class="d-flex justify-content-between align-items-start mb-3">
      <h5 class="card-title mb-0 fw-bold text-truncate" style="max-width: 70%;">{{ product.name }}</h5>
      <h5 class="text-primary mb-0">{{ product.price | currency }}</h5>
    </div>

    <p class="card-text text-muted mb-4 flex-grow-1"
       style="overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical;">
      {{ product.description }}
    </p>

    <div class="d-flex justify-content-between gap-2 mt-auto" (click)="$event.stopPropagation()">
      <button class="btn btn-primary flex-grow-1"
        (click)="callOwner.emit(product)">
        <i class="bi bi-telephone me-2"></i>Call Owner
      </button>

      @if(canDelete){
        <button class="btn btn-outline-danger"
            (click)="deleteProduct.emit(product)">
          <i class="bi bi-trash3"></i>
        </button>
      }
    </div>
  </div>
</div>
