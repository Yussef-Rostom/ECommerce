<div class="card h-100 shadow-sm position-relative"
     style="cursor: pointer"
     (click)="handleCardClick($event)">

  <div class="position-relative">
    <img [src]="product.thumbnail"
         class="card-img-top"
         style="height: 250px; object-fit: cover;">
    <span class="position-absolute top-0 end-0 badge rounded-pill me-2 mt-2 bg-{{ product.stock > 0 ? 'success' : 'danger' }}">
      {{ product.stock > 0 ? "In Stock" : "Out of Stock" }}
    </span>
  </div>

  <div class="card-body d-flex flex-column">
    <div class="d-flex justify-content-between align-items-start mb-2">
      <h5 class="card-title mb-0">{{ product.title }}</h5>
      <h5 class="text-primary">{{ product.price | currency }}</h5>
    </div>

    <div class="mb-2">
      <span class="text-warning" [innerHTML]="product.rating | starRating"></span>
      <small class="text-muted ms-1">({{ product.rating }})</small>
    </div>

    <p class="card-text flex-grow-1 text-muted mb-3"
       style="overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical;">
      {{ product.description }}
    </p>

    <div class="d-grid" (click)="$event.stopPropagation()">
      <button class="btn btn-primary"
              [disabled]="product.stock <= 0"
              (click)="addToCart.emit(product)">
        Add to Cart
      </button>

    </div>

  </div>

</div>
