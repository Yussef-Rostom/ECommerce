<div class="container d-flex justify-content-center align-items-center min-vh-75 bg-light my-5">
  <div class="card border-0 shadow-lg p-4" style="width: 100%; max-width: 450px;">
    <div class="card-body p-4">

      <div class="text-center mb-4">
        <i class="bi bi-person-plus-fill text-primary fs-1 mb-3"></i>
        <h2 class="card-title fw-bold">Create Your Account</h2>
        <p class="text-muted">Join our community today</p>
      </div>

      <form [formGroup]="registerForm" (ngSubmit)="onRegister()" class="needs-validation" novalidate>

        <div class="mb-4">
          <label for="email" class="form-label">Email Address</label>
          <div class="input-group mb-1">
            <span class="input-group-text"><i class="bi bi-envelope"></i></span>
            <input
              type="email"
              class="form-control"
              id="email"
              formControlName="email"
            >
          </div>
          <div class="validation form-text text-danger mx-2">
            @if (formControls['email'].invalid && formControls['email'].touched) {
                @if(formControls['email'].errors){
                  @if(formControls['email'].errors['required']){
                    <span>Email address is required</span>
                  }
                  @else if(formControls['email'].errors['email']){
                    <span>Please enter a valid email address</span>
                  }
                }
            }
          </div>
        </div>

        <div class="mb-4">
          <label for="name" class="form-label">Full Name</label>
          <div class="input-group mb-1">
            <span class="input-group-text"><i class="bi bi-person"></i></span>
              <input
              type="name"
              class="form-control"
              id="name"
              formControlName="name"
            >
          </div>
          <div class="validation form-text text-danger mx-2">
            @if (formControls['name'].invalid && (formControls['name'].touched)) {
              @if(formControls['name'].errors && formControls['name'].errors['required']){
                <span>This field is required</span>
              }
            }
          </div>
        </div>

        <div class ="mb-4">
          <label for="username" class="form-label">Username</label>
          <div class="input-group mb-1">
            <span class="input-group-text">{{"@"}}</span>
              <input
              type="username"
              class="form-control"
              id="username"
              formControlName="username"
            >
          </div>
          <div class="validation form-text text-danger mx-2">
            @if (formControls['username'].invalid && (formControls['username'].touched)) {
              @if(formControls['username'].errors){
                @if(formControls['username'].errors['required']){
                  <span>This field is required</span>
                }
                @else if(formControls['username'].errors['pattern']){
                  <span>No spaces allowed in username</span>
                }
              }
            }
          </div>
        </div>

        <div class ="mb-4">
          <label for="password" class="form-label">Password</label>
          <div class="input-group mb-1">
            <span class="input-group-text">{{"@"}}</span>
              <input
              type="password"
              class="form-control"
              id="password"
              formControlName="password"
            >
          </div>
          <div class="validation form-text text-danger mx-2">
            @if (formControls['password'].invalid && (formControls['password'].touched)) {
              @if(formControls['password'].errors){
                @if(formControls['password'].errors['required']){
                  <span>This field is required</span>
                }
                @else if(formControls['password'].errors['pattern']){
                  <span>
                    Password must:
                      <ul>
                        <li>Be at least 8 characters long</li>
                        <li>Contain at least one lowercase letter</li>
                        <li>Contain at least one uppercase letter</li>
                        <li>Contain at least one digit</li>
                        <li>Contain at least one special character{{ "'@$%#'" }}</li>
                      </ul>
                  </span>
                }
              }
            }
          </div>
        </div>

        <button
          type="submit"
          class="btn btn-primary w-100 py-2 mb-3 fw-bold shadow-sm"
          [disabled]="registerForm.invalid">
          Register Now
        </button>

        <div class="text-center mt-4 pt-3 border-top">
          <span class="text-muted mb-0">Already have an account?</span>
          <a routerLink="/login" class="text-decoration-none fw-semibold"> Login</a>
        </div>

      </form>
    </div>
  </div>
</div>
